# Boost 1.76.0リリースノート

本家リリースノート：

- <https://github.com/boostorg/website/blob/master/feed/history/boost_1_76_0.qbk>
- <http://www.boost.org/users/history/version_1_76_0.html>


リポジトリは以下：

- <https://github.com/boostorg/>


リポジトリからのビルド方法は、egtraさんのブログを参照：

- 「[Modularized Boost（GitHubへ移行したリポジトリ）を使用する](http://dev.activebasic.com/egtra/2013/12/03/620/)」


## 新ライブラリ

- [NewOne](#newone) # example


## 更新ライブラリ

- [Beast](#beast)
- [Bind](#bind)
- [GIL](#gil)
- [Math](#math)
- [Outcome](#outcome)
- [PolyCollection](#poly-collection)
- [Predef](#predef)
- [Variant2](#variant2)

## 更新ツール

- [Build](#build)


## <a id="beast" href="#beast">Beast</a>

- 修正
    - [GitHub #2139](https://github.com/boostorg/beast/issues/2139) `test::stream`にexecutorのrebindを追加
    - WebSocket async shutdown内での未使用変数の警告を修正
- 改善
    - [GitHub #2124](https://github.com/boostorg/beast/pull/2124) Beastを使用するために浮動小数点サポートを要求しないようにした
    - すべての操作にcommon buffers typeを使用するようにしたことにより、websocketyのコンパイルされたコードのサイズを削減した
    - HTTPパーサーの誤った使い方の検出を改善
- その他修正
    - [GitHub #2140](https://github.com/boostorg/beast/pull/2140) ライブラリのメタデータにcxxstdタグを追加
    - Drone CIに移行
    - 小さなドキュメントフォーマットの改善
    - in-treeビルドでの要求されるBoost.ThreadライブラリをCMLが見つけられるようにした


## <a id="bind" href="#bind">Bind</a>

- `boost::bind`でC++11標準のプレースホルダーを使用できるようサポートを追加
- `boost::apply`で可変引数テンプレートと完全転送を使用できるよう更新


## <a id="gil" href="#gil">GIL</a>

- <span style="color:red;">**破壊的変更**</span> 次のリリースでGCC 5のサポートを落とす。また、要求するC++の最低バージョンをC++11からC++14に変更する予定


## <a id="math" href="#math">Math</a>

- <span style="color:red;">**破壊的変更**</span> C++03のサポートを削除した。このライブラリを使用するにはC++11以降が必要となる
- Z-testを追加
- 統計関数であるunivariate (単変量) とbivariate (二変量) に実行ポリシーのサポートを追加 (C++17と`<execution>`が必要となる)
- CIテストに対する大きな更新・改善
- bivariate (二変量) 統計に整数サポートを追加
- T-Testに整数サポートを追加
- Linear regression (線形回帰) に整数サポートを追加
- 終了点 (endpoints) でのbeta distribution (ベータ分布) のPDFを正しくした
- [GitHub #396](ttps://github.com/boostorg/math/issues/396) 特定の多倍長ケースでStirling's approximation (スターリング近似) の使用を正しくした
- Clangで`-Wimplicit-int-float-conversion`オプションを除外
- quaternion/octonionでのいくつかのconstexpr問題を修正
- `tanh_sinh`微分での小さなパフォーマンス問題を修正
- hypergeometric functions (超幾何関数) 内部のスケーリングを更新し、多倍長型の64ビット (long long) 指数部の使用を許可


## <a id="outcome" href="#outcome">Outcome</a>

- アナウンス
    - <span style="color:red;">**破壊的変更**</span> 繰り返してきたこのアナウンスをはじめてから1年 (3回のBoostメジャーリリース) が経ち、今回がv2.2ブランチの最初のリリースとなる。このブランチには、Boost 1.75以前に含まれたOutcome v2.1に対する
- 強化
    - VS2019.8でOucomeがコンパイルできなかったため、コルーチンを有効にする方法を変更した
    - C++20の場合、コンパイラ固有のマークアップの代わりに`[[likely]]`属性を使用するようにして、TRYが成功・失敗する可能性が高いことを示すようにした
    - <span style="color:red;">**破壊的変更**</span> 以前まで`spare_storage(const basic_result|basic_outcome *) noexcep`の値は`BOOST_OUTCOME_TRY`に伝播されなかった。これによって、エラー結果を構築するためにキャプチャされたスタックバックトレースがすべて`TRY`ごとに落とされていた。今回の修正では、`success_type<T>`と`failure_type<T>`、および`auto success(T &&, ...)`と`auto failure(T &&, ...)`にオプション`spare_storage`を追加したことにより、この問題を修正する
- バグ修正
    - Boost.Outcomeが、`BOOST_NO_EXCEPTIONS`が定義された状態でもコンパイルできるようになったはず。Boost.ExceptionのメンテなであるEmilの協力によって、Outcomeにこの修正が行われた。Boost.Outcomeは、C++例外がグローバルに無効にされた状態でもコンパイルできるべきである。ただし、その状態では`boost::exception_ptr`は使用できない
    - <span style="color:red;">**破壊的変更**</span> [GitHub #244](https://github.com/ned14/outcome/issues/244) このライブラリの初期リリースから、特定のコーナーケースコードで`BOOST_OUTCOME_TRY`が壊れていたため、TRYの動作を大幅に変える必要があってショックを受けた。詳細は[changelog](https://boostorg.github.io/outcome/changelog.html)を参照


## <a id="poly-collection" href="#poly-collection">PollyCollection</a>

- [GitHub #20](https://github.com/boostorg/poly_collection/issues/20) [GCCのバグ](https://gcc.gnu.org/bugzilla/show_bug.cgi?id=95888)に対するワークアラウンドを導入。GCCのバージョン9.3から10.2に影響する


## <a id="predef" href="#predef">Predef</a>

- バージョン1.13
- 事前定義マクロ`ARCH_PPC_64`を追加
- `ARCH_WORD_BITS*`の再定義による警告・エラーを修正
- Elbrus 2000アーキテクチャを検出する事前定義マクロ`ARCH_E2K`を追加 (Konstantin Ivlev氏に感謝)
- 10.xを超える最近のC++バージョンを扱えない問題を修正

- バージョン1.12
- OpenBSD環境でendian.hヘッダを使用するよう変更 (Brad Smith氏に感謝)
- 9を超える最近のstdcxxバージョンを扱えない問題を修正
- sub-BSD OSのヘッダを直接インクルードすることによる再定義警告を修正
- 全ヘッダをインクルードするCIテストを追加
- FreeBSDでのClang or GCCのCIテストを追加
- アーキテクチャのワードサイズを検出するための`WORD_BITS`事前定義マクロ集合を追加。これはMikhail Komarov氏によって提出された初期実装に触発されたもの
- Cygwin 32 or 64のCIテストを追加


## <a id="variant2" href="#variant2">Variant2</a>

- ダブルバッファを使用するケースの生成されるコードを改善


## <a id="build" href="#build">Build</a>

- B2バージョン4.4.1
    - macOSのデフォルトエンジンコンパイラ向けに、小さな間違いを修正するパッチを適用
        - macOS/XCode向けのエンジンビルドのデフォルトをClangからGCCに修正


## テスト済みコンパイラ
主要なテストコンパイラ:

- Linux:
    - Clang:
    - GCC:
    - Intel:
    - QCC:
- OS X:
    - Apple Clang:
    - GCC:
    - Intel:
- Windows:
    - GCC, mingw:
    - Visual C++:
- FreeBSD:
    - GCC:
- QNX:
    - QCC:

追加で含まれるテストコンパイラ:

- Linux:
    - Clang:
    - GCC:
    - GCC, C++11:
    - GCC, C++14:
    - Intel:
    - Intel, C++11:
- OS X:
    - Apple Clang:
    - Apple Clang, C++11:
    - Apple Clang, C++14:
    - Clang:
    - Clang, C++11:
    - GCC:
    - Intel:
- Windows:
    - GCC, mingw:
    - Visual C++:
- FreeBSD:
    - GCC:
- QNX:
    - QCC:

## 翻訳
[Akira Takahashi](https://github.com/faithandbrave)

